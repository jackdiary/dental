# 구현 계획

- [x] 1. 프로젝트 초기 설정 및 기본 구조 생성





  - Django 5.0 프로젝트 생성 및 기본 설정 구성
  - PostgreSQL, Redis, Celery 연동 설정
  - 기본 앱 구조 생성 (accounts, clinics, reviews, analysis, recommendations, api)
  - 개발 환경 설정 파일 및 requirements.txt 작성
  - _요구사항: 1.1, 6.3_

- [x] 2. 데이터베이스 모델 및 기본 인증 시스템 구현


  - [x] 2.1 핵심 데이터 모델 구현


    - Clinic, Review, SentimentAnalysis, PriceData 모델 작성
    - PostgreSQL 전문 검색을 위한 SearchVector 필드 설정
    - 데이터베이스 인덱스 최적화 설정
    - _요구사항: 2.1, 2.2, 4.5_

  - [x] 2.2 사용자 인증 시스템 구현





    - JWT 기반 인증 시스템 구성 (djangorestframework-simplejwt)
    - 사용자 회원가입, 로그인 API 엔드포인트 구현
    - 권한 관리 시스템 (일반 사용자, 관리자) 구현
    - _요구사항: 6.3, 8.3_

  - [x] 2.3 기본 모델 단위 테스트 작성


    - 모델 생성, 수정, 삭제 테스트
    - 데이터 유효성 검증 테스트
    - _요구사항: 2.1, 2.2_

- [x] 3. 리뷰 크롤링 시스템 구현





  - [x] 3.1 기본 크롤러 인터페이스 및 유틸리티 구현


    - BaseCrawler 추상 클래스 정의
    - 개인정보 익명화 서비스 구현
    - 중복 리뷰 제거 로직 구현
    - _요구사항: 3.2, 3.3_

  - [x] 3.2 네이버 플레이스 크롤러 구현


    - Selenium 기반 네이버 플레이스 리뷰 수집
    - 리뷰 데이터 파싱 및 정제
    - 크롤링 속도 제한 및 오류 처리
    - _요구사항: 3.1_

  - [x] 3.3 구글 맵 크롤러 구현


    - 구글 맵 API 또는 Selenium 기반 리뷰 수집
    - 리뷰 데이터 표준화 처리
    - API 제한 및 오류 처리
    - _요구사항: 3.1_

  - [x] 3.4 Celery 비동기 크롤링 태스크 구현


    - 크롤링 작업을 위한 Celery 태스크 정의
    - 크롤링 상태 모니터링 시스템
    - 관리자용 크롤링 트리거 API 구현
    - _요구사항: 3.5_

  - [x] 3.5 크롤링 시스템 통합 테스트


    - 크롤러별 기능 테스트
    - 비동기 태스크 실행 테스트


    - _요구사항: 3.1, 3.5_

- [x] 4. 한국어 텍스트 전처리 시스템 구현


  - [x] 4.1 KoNLPy 기반 형태소 분석기 구현


    - Okt, Mecab 형태소 분석기 통합
    - 텍스트 정제 및 정규화 함수
    - 불용어 제거 및 키워드 추출
    - _요구사항: 3.4_

  - [x] 4.2 리뷰 전처리 파이프라인 구현


    - 텍스트 정제 및 노이즈 제거
    - 문장 분할 및 토큰화
    - 전처리된 텍스트 저장 시스템
    - _요구사항: 3.3, 3.4_

  - [x] 4.3 텍스트 전처리 단위 테스트




    - 형태소 분석 정확성 테스트
    - 전처리 파이프라인 테스트
    - _요구사항: 3.4_

- [x] 5. Aspect-Based Sentiment Analysis (ABSA) 엔진 구현

  - [x] 5.1 기본 ABSA 엔진 인터페이스 구현

    - ABSAEngine 추상 클래스 정의
    - 6가지 측면(가격, 실력, 친절도, 대기시간, 시설, 과잉진료) 정의
    - AspectScores 데이터 클래스 구현
    - _요구사항: 4.1, 4.2_

  - [x] 5.2 SVM + TF-IDF 기반 감성 분석기 구현

    - scikit-learn SVM 모델 학습 및 저장
    - TF-IDF 벡터화 및 특성 추출
    - 측면별 감성 점수 계산 로직
    - _요구사항: 4.4_

  - [x] 5.3 KoBERT 기반 감성 분석기 구현 (선택적)

    - transformers 라이브러리를 사용한 KoBERT 모델 로드
    - 파인튜닝을 위한 데이터 전처리
    - 측면별 감성 분류 모델 구현
    - _요구사항: 4.3_

  - [x] 5.4 감성 분석 결과 저장 및 관리

    - SentimentAnalysis 모델에 분석 결과 저장
    - 분석 결과 캐싱 시스템 (Redis)
    - 모델 버전 관리 및 성능 추적
    - _요구사항: 4.5_

  - [x] 5.5 ABSA 엔진 단위 테스트

    - 측면별 감성 분석 정확성 테스트
    - 모델 성능 평가 테스트
    - _요구사항: 4.1, 4.2_

- [x] 6. 가격 추출 및 분석 시스템 구현

  - [x] 6.1 정규표현식 기반 가격 추출기 구현

    - 한국어 가격 표현 패턴 정의
    - 치료 종류별 가격 추출 로직
    - 가격 데이터 유효성 검증
    - _요구사항: 5.1, 5.2_

  - [x] 6.2 치료 종류 분류 시스템 구현

    - 스케일링, 임플란트, 신경치료, 교정 등 분류
    - 컨텍스트 기반 치료 종류 판별
    - 분류 정확도 향상을 위한 키워드 사전
    - _요구사항: 5.2_

  - [x] 6.3 지역별 평균가 계산 시스템 구현

    - 지역별, 치료별 평균 가격 자동 계산
    - 가격 분포 통계 생성
    - 과도한 가격책정 감지 알고리즘
    - _요구사항: 5.3, 5.5_

  - [x] 6.4 가격 데이터 관리 및 API 구현

    - PriceData 모델에 추출된 가격 저장
    - 가격 비교 API 엔드포인트 구현
    - 가격 신뢰도 계산 로직
    - _요구사항: 5.4, 7.5_

  - [x] 6.5 가격 추출 시스템 단위 테스트

    - 가격 추출 정확성 테스트
    - 치료 분류 정확성 테스트
    - _요구사항: 5.1, 5.2_

- [x] 7. 치과 추천 알고리즘 구현

  - [x] 7.1 기본 추천 엔진 구현






    - RecommendationEngine 클래스 구현
    - 지역 기반 치과 필터링 (반경 5km)
    - 최소 리뷰 수 필터링 (10개 이상)
    - _요구사항: 1.1, 1.3_

  - [x] 7.2 종합 점수 계산 알고리즘 구현

    - 가격합리성(30%), 의료진실력(25%), 과잉진료역수(25%), 환자만족도(20%) 가중치 적용
    - 각 측면별 점수 정규화 및 계산
    - 종합 점수 기반 치과 순위 결정
    - _요구사항: 1.2_

  - [x] 7.3 추천 이유 자동 생성 시스템 구현

    - 설명 가능한 AI를 위한 추천 이유 생성
    - 각 치과별 강점 및 특징 요약
    - 사용자 친화적인 설명 텍스트 생성
    - _요구사항: 1.5_

  - [x] 7.4 추천 결과 캐싱 및 최적화

    - Redis를 활용한 추천 결과 캐싱
    - 추천 로그 저장 및 분석
    - 추천 성능 최적화
    - _요구사항: 1.1_

  - [x] 7.5 추천 알고리즘 단위 테스트

    - 점수 계산 로직 테스트
    - 필터링 기능 테스트
    - _요구사항: 1.1, 1.2_

- [x] 8. REST API 엔드포인트 구현

  - [x] 8.1 치과 추천 API 구현

    - POST /api/recommend/ 엔드포인트 구현
    - 지역 및 치료 종류 필터 처리
    - 3초 이내 응답 보장을 위한 최적화



    - _요구사항: 6.1, 6.2_

  - [x] 8.2 치과 정보 조회 API 구현

    - GET /api/dentists/ 목록 API (페이지네이션)
    - GET /api/dentists/<id>/ 상세 정보 API
    - 리뷰 및 가격 분포 데이터 포함
    - _요구사항: 2.1, 2.2, 6.4_

  - [x] 8.3 가격 비교 API 구현

    - GET /api/prices/compare/ 가격 비교 API
    - 지역별 가격 분포 차트 데이터 제공
    - 치료별 최소/최대/평균 가격 정보
    - _요구사항: 7.1, 7.2, 7.3_

  - [x] 8.4 관리자 전용 API 구현

    - POST /api/reviews/crawl/ 크롤링 트리거 API
    - 관리자 권한 검증 및 보안 처리
    - 크롤링 상태 모니터링 API
    - _요구사항: 3.5, 8.3_

  - [x] 8.5 API 보안 및 제한 기능 구현

    - JWT 토큰 기반 인증 미들웨어
    - 시간당 100회 요청 제한 (Rate Limiting)
    - API 응답 시간 모니터링
    - _요구사항: 6.3, 6.5_

  - [x] 8.6 API 통합 테스트

    - 모든 엔드포인트 기능 테스트
    - 인증 및 권한 테스트
    - _요구사항: 6.1, 6.2, 6.3_

- [x] 9. Django Admin 커스터마이징 및 모니터링 시스템

  - [x] 9.1 커스텀 Django Admin 인터페이스 구현

    - 치과, 리뷰, 감성분석 데이터 관리 인터페이스
    - 리뷰 품질 관리 및 수동 플래깅 기능
    - 데이터 필터링 및 검색 기능 강화
    - _요구사항: 8.1, 8.3_

  - [x] 9.2 ML 모델 성능 모니터링 대시보드 구현

    - 감성 분석 정확도 및 F1 점수 표시
    - 모델 성능 추이 그래프
    - 모델 버전별 성능 비교
    - _요구사항: 8.2_

  - [x] 9.3 시스템 상태 모니터링 구현

    - Redis 및 Celery 상태 모니터링
    - 크롤링 성공률 및 데이터 신선도 보고서
    - 자동화된 시스템 상태 알림
    - _요구사항: 8.4, 8.5_

  - [x] 9.4 관리자 기능 테스트

    - Admin 인터페이스 기능 테스트
    - 모니터링 대시보드 테스트
    - _요구사항: 8.1, 8.2_

- [x] 10. 성능 최적화 및 배포 준비

  - [x] 10.1 데이터베이스 쿼리 최적화

    - N+1 쿼리 문제 해결
    - 인덱스 최적화 및 쿼리 성능 튜닝
    - PostgreSQL 전문 검색 성능 최적화
    - _요구사항: 4.5, 6.2_

  - [x] 10.2 캐싱 전략 구현

    - Redis 기반 추천 결과 캐싱
    - 감성 분석 결과 캐싱
    - API 응답 캐싱 전략
    - _요구사항: 6.2_

  - [x] 10.3 배포 설정 및 환경 구성

    - Docker 컨테이너 설정
    - 프로덕션 환경 설정 파일
    - 환경 변수 관리 및 보안 설정
    - _요구사항: 전체 시스템_

  - [x] 10.4 성능 테스트 및 부하 테스트

    - API 응답 시간 테스트 (3초 이내)
    - 동시 요청 처리 성능 테스트
    - _요구사항: 6.2_

- [x] 11. 최종 통합 테스트 및 문서화


  - [x] 11.1 전체 시스템 통합 테스트

    - 리뷰 크롤링부터 추천까지 전체 플로우 테스트
    - 실제 데이터를 사용한 엔드투엔드 테스트
    - 오류 상황 처리 테스트
    - _요구사항: 전체 시스템_

  - [x] 11.2 API 문서화

    - Swagger/OpenAPI 문서 생성
    - API 사용 예제 및 가이드 작성
    - 오류 코드 및 응답 형식 문서화
    - _요구사항: 6.1, 6.2, 6.3_

  - [x] 11.3 사용자 매뉴얼 및 배포 가이드 작성

    - 시스템 설치 및 설정 가이드
    - 관리자 사용 매뉴얼
    - _요구사항: 전체 시스템_