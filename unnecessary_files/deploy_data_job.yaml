# Cloud Run Job ì„¤ì • - ëŒ€ëŸ‰ ë°ì´í„° ë°°í¬ìš©
apiVersion: run.googleapis.com/v1
kind: Job
metadata:
  name: dental-ai-data-deploy
  namespace: dental-ai-2024
spec:
  template:
    spec:
      template:
        spec:
          containers:
          - name: data-deploy
            image: gcr.io/dental-ai-2024/dental-ai-backend:latest
            command:
            - /bin/bash
            - -c
            - |
              echo "ğŸš€ ëŒ€ëŸ‰ ë°ì´í„° ë°°í¬ ì‹œì‘..."
              python create_massive_data.py
              echo "âœ… ë°ì´í„° ë°°í¬ ì™„ë£Œ!"
            env:
            - name: DJANGO_SETTINGS_MODULE
              value: config.settings.production
            - name: GCP_PROJECT_ID
              value: dental-ai-2024
            - name: GCP_REGION
              value: asia-northeast3
            resources:
              limits:
                cpu: "2"
                memory: 2Gi
          serviceAccountName: dental-ai-service-account
          timeoutSeconds: 3600  # 1ì‹œê°„ íƒ€ì„ì•„ì›ƒ